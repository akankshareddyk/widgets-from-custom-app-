<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($scope) {
	var c= this;
		var shared =c.widget.options.shared;
	/*    var g = [
				"bg",
				"cast",
				"music",
				"story",
				"visual"
			];
*/
	
	$scope.arrlist = [{

"value": "bg",

"name": "BackGround score"

}, {

"value": "cast",

"name": "Cast"

}, {

"value": "music",

"name": "Music"

},{
	"value": "visual",

"name": "Visual Effects"
},
{
											
"value": "story",

"name": "Story Line"
	}
	];


	//$scope.checkoptions = function (choice) {


	  console.log("oye:"+JSON.stringify(shared))
	c.submit=function(choice){
		
var details = [];

angular.forEach(choice, function (value, key) {

if (choice[key].checked) {

details.push(choice[key].value);

}

});
		
			c.half_day=details;
	c.data.half_day=c.half_day;
	console.log("y:"+c.data.half_day)
		//----------
		
  c.data.mt=c.movietheater;
	console.log("client"+c.data.mt)
	c.data.fd=c.foodrate;
	c.data.rm=c.ratemovie
	 alert(c.data.rm + "+"+c.data.mt)
	console.log("client1"+c.data.rm);
		//c.data.kc=c.keycomp;

		c.data.ac=c.addcom
		console.log("client ak"+c.data.ac)
		c.server.update().then(function(){
			alert(c.data.a);
	});
	}
}]]></client_script>
        <controller_as>c</controller_as>
        <css>.mar-bot-5{
  margin-bottom:5px;
}
.color-red{
  color:red;
}
.text-secondary{
  font-size:14px; 
}  
.radio-label,.checkbox-label{
 display:inline;
}
.txtComment{
  width:100%;
  resize:none;
}


.mar-top-15{
  margin-top:15px;
}

.tooltip-color{
  color:$brand-danger;
}
.mar-right-5{
  margin-right:5px;
}
.form-inline{
  position: relative;
  display: block;
  line-height:1.5;
  padding-top:5px;
  padding-left:2.5rem;
}
.font-weight-500{
  font-weight:500;
}
.wrapper{
  padding: 15px 5px 15px 5px;
}
#star-wrapper:onclick{
  color:gold
}


h1[alt="Simple"] {color: white;}
a[href], a[href]:hover {color: grey; font-size: 0.5em; text-decoration: none}




.starrating &gt; input {display: none;}  /* Remove radio buttons */

.starrating &gt; label:before { 
  content: "\f005"; /* Star */
  font-size: 2em;
  font-family: FontAwesome;
  display: inline-block; 
}

.starrating &gt; label
{
  color: #222222; /* Start color when not clicked */
}

.starrating &gt; input:checked ~ label
{ color: #ffca08 ; } /* Set yellow color when star checked */

.starrating &gt; input:hover ~ label
{ color: #ffca08 ;  } /* Set yellow color when star hover */




</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>surveys_-ak</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
  
}]]></link>
        <name>surveys -ak</name>
        <option_schema>[{"name":"","section":"Data","label":"","type":"choice"}]</option_schema>
        <public>false</public>
        <roles/>
        <script><![CDATA[
(function() {
  /* populate the 'data' object */
  /* e.g., data.table = $sp.getValue('table'); */

	var choicevalue,arrval=[]
	var choiceLabel,arrLab=[]
	var Label=[]
	var c=[];
	var insdet=new GlideRecord('x_698230_my_custom_custom_survey');
	insdet.addQuery('u_users',gs.getUserID());
  console.log("query :"+insdet.getEncodedQuery());
   if(input){
	var user=gs.getUserID()
	insdet.initialize();
	insdet.setValue('u_users',user);
	insdet.ratings_of_theater=input.mt;
  insdet.rating_of_food=input.fd
		 for(var j = 0; j<input.half_day.length; j++){
			   c.push(input.half_day[j]);
			
    }
		 insdet.setValue('key_components_you_liked',c);
		 console.log("input.half_day"+insdet.key_components_you_liked)


		 

  insdet.ratings_of_movie=input.rm
	insdet.additional_comments=input.ac
  insdet.insert();
	 data.a=insdet.getValue('sys_id');

	
}
	
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-08-25 13:15:57</sys_created_on>
        <sys_id>36ad357a4774b91026847688c26d4342</sys_id>
        <sys_mod_count>386</sys_mod_count>
        <sys_name>surveys -ak</sys_name>
        <sys_package display_value="My custom App" source="x_698230_my_custom">d01a706f475e611026847688c26d438c</sys_package>
        <sys_policy/>
        <sys_scope display_value="My custom App">d01a706f475e611026847688c26d438c</sys_scope>
        <sys_update_name>sp_widget_36ad357a4774b91026847688c26d4342</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-08-30 10:28:57</sys_updated_on>
        <template><![CDATA[<div class="panel-body" >
  

    <div class="text-secondary mar-top-15 mar-bot-5 font-weight-500" >
       ${Please rate the movie theatre you watched from?}
    </div>
    <div role="radiogroup" >
        <div class="form-inline" >
           <input id="helpful" type="radio" class="radio" ng-model="c.movietheater" name="movietheater" value="its_good">${Its Good}
        </div>
        <div class="form-inline">
           <input id="not_Helpful" type="radio" class="radio" ng-model=c.movietheater name="movietheater" value="its_worst" >${Its Worst}
          
        </div>
    </div>
    
   
        <div class="text-secondary mar-top-15 mar-bot-5 font-weight-500" >
           ${Please rate the food that u bought from theatre?}
        </div>
        <div class="form-inline">
           <input id="helpful" type="radio" class="radio" ng-model="c.foodrate" name="moviefood" value="its_good">${Its Good}
        </div>
        <div class="form-inline" >
            <input id="not_Helpful" type="radio" class="radio" ng-model="c.foodrate" name="moviefood" value="its_worst">${Its Worst}
        </div>
    
    <div  class="text-secondary mar-top-15 mar-bot-5 font-weight-500">
    ${How is the movie?}
     </div>
        
  <!---
    <div class="rating">
      <input type="radio" ng-model="c.ratemovie" name="rating" id="rating-5" value="5">
            <label for="rating-5"></label>

      <input type="radio" ng-model="c.ratemovie" name="rating" id="rating-4" value="4">
            <label for="rating-4"></label>

      <input type="radio" name="rating" id="rating-3" value="3" ng-model="c.ratemovie">
            <label for="rating-3"></label>

      <input type="radio" name="rating" id="rating-2" value="2" ng-model="c.ratemovie" >
            <label for="rating-2"></label>

      <input type="radio" name="rating" id="rating-1"value="1" ng-model="c.ratemovie" >
            <label for="rating-1"></label>

    
  </div>
-->
   <div class="rating">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"> 
        <div class="starrating risingstar d-flex justify-content-center flex-row-reverse">
            <input type="radio" ng-model="c.ratemovie" id="star5" name="rating" value="5" /><label for="star5" title="5 star"></label>
            <input type="radio" ng-model="c.ratemovie" id="star4" name="rating" value="4" /><label for="star4" title="4 star"></label>
            <input type="radio" ng-model="c.ratemovie" id="star3" name="rating" value="3" /><label for="star3" title="3 star"></label>
            <input type="radio" ng-model="c.ratemovie" id="star2" name="rating" value="2" /><label for="star2" title="2 star"></label>
            <input type="radio"  ng-model="c.ratemovie" id="star1" name="rating" value="1" /><label for="star1" title="1 star"></label>
        </div>
  	
  </div>
      <div  class="text-secondary mar-top-15 mar-bot-5 font-weight-500">
         ${What did u like from a movie?}
      </div>

  
<div ng-repeat="user in arrlist" class="form-inline">
<input type="checkbox"  ng-model="user.checked"/>{{user.name}}
</div>



 

    <div ng-if="c.feedback == c.data.feeback.NOT_HELPFUL">

    <div>
        <div id="div_addn_cmt_heading" class="text-secondary mar-top-15 mar-bot-5 font-weight-500 mar-right-5 " >
          ${Additional comments?}
        <i class="fa fa-question-circle padder-xs" data-toggle="tooltip" data-original-title="${Your comments will also be published to this request's activity feed.}">
        </i>
        </div>
        <textarea  id="txt_comment" class="txtComment" aria-labelledby="div_addn_cmt_heading" aria-description="${Please feel free to comment.}" maxlength="4000" ng-model="c.addcom" ></textarea>
    </div>
  </div> 
  


   <div class="mar-top-15 mar-bot-5">
        <button class="btn btn-primary" ng-click="c.submit(arrlist)">
          ${Submit}
        </button>
    </div>

<!---
  
  <input type="text" name="user" placeholder="enter name"ng-model="c.addcom"/>
</div>
<button class="btn btn-primary" ng-click="c.submit()">
  ${submit}
</button>
-->]]></template>
    </sp_widget>
</record_update>
